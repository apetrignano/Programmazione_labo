#include <stdlib.h>
#include <stdio.h>
#include <math.h>

typedef enum {FALSE, TRUE} bool;

void bubble_sort(double*, int);
void swap(double*, double*);

int main() {

	int n;
	printf("valori double da inserire: ");
	scanf("%d", &n);
	double *numeri = (double*) malloc(n * sizeof(double));
	if (numeri == NULL) {
		fprintf(stderr, "Allocazione fallita\n");
		return -1;
	}
	for(int i = 0; i < n; i++) {
		printf("numero %d: ", i + 1);
		scanf("%lf", &numeri[i]);
		}


  bubble_sort(numeri, n);

  for(int i = 0; i < n; i++) {
    printf("elemento %d: %lf\n", i + 1, numeri[i]);
  }


	free(numeri);

	return 0;
}

void bubble_sort(double *v, int len) {
	bool scambio = TRUE;
  while(scambio == TRUE) {
        scambio = FALSE;
        for(int i = 0; i <= len - 2; i++) {
            printf("confronto tra %lf e %lf\n", v[i], v[i + 1]);
            if(v[i] > v[i+1]){
            swap(&v[i], &v[i+1]);
            scambio = TRUE;
            }
        }
    }
}

void swap(double *a, double *b) {
    double* tmp = a;
    tmp = a;
    a = b;
    b = tmp;
  }
